define(["jquery","layer"],function(a){var b={menuDom:a("#menuItems"),contentDom:a("div[data-id='projectTemplate']"),init:function(){var c=this.contentDom.attr("data-projectId");this.projectId=c;this.contentDom.removeAttr("data-projectId").data("projectId",c);this.setEvent();this.menuDom.find("#taskBoard").trigger("click");this.getProjectUser()},getProjectUser:function(){var c=this.contentDom.data("projectId");a.ajax({type:"post",data:{projectId:c},url:context+"/project/listProjectAllUser.htm"}).done(function(d){if(d&&d.success){if(d.resultData){window.projectUserList=d.resultData}}else{if(d&&!d.success){layer.msg(d.errormsg)}else{layer.msg("请求失败")}}})},setEvent:function(){var c=this;c.menuDom.on("click","#taskBoard",function(){if(a(this).hasClass("select")){return}c.contentDom.load(context+"/task/loadTaskBoard.htm");a(this).addClass("select").find(".right-arrow").show().closest("li").siblings().find("a").removeClass("select").find("i.right-arrow").hide()});c.menuDom.on("click","#fileLibrary",function(){if(a(this).hasClass("select")){return}c.contentDom.load(context+"/filelibrary/loadfilelibraryview.htm");a(this).addClass("select").find(".right-arrow").show().closest("li").siblings().find("a").removeClass("select").find("i.right-arrow").hide()});c.menuDom.on("click","#dynamic",function(){if(a(this).hasClass("select")){return}c.contentDom.load("../../html/dynamic/dynamic.html");a(this).addClass("select").find(".right-arrow").show().closest("li").siblings().find("a").removeClass("select").find("i.right-arrow").hide()});c.menuDom.on("click","#weekly",function(){if(a(this).hasClass("select")){return}c.contentDom.load(context+"/weeklyReport/loadWeeklyReportview.htm?projectId="+c.projectId);a(this).addClass("select").find(".right-arrow").show().closest("li").siblings().find("a").removeClass("select").find("i.right-arrow").hide()});c.menuDom.on("click","#meetting",function(){if(a(this).hasClass("select")){return}c.contentDom.load(context+"/meeting/loadmeetingview.htm",{projectId:c.projectId});a(this).addClass("select").find(".right-arrow").show().closest("li").siblings().find("a").removeClass("select").find("i.right-arrow").hide()})}};return b});